(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(0),s=n(22),c=n.n(s),o=n(39),i=n(65),u=n(66),l=n(55),d="USER_LOGIN_REQUEST",j="USER_LOGIN_SUCCESS",p="USER_LOGIN_FAIL",b="USER_LOGOUT",h="USER_REGISTER_REQUEST",O="USER_REGISTER_SUCCESS",f="USER_REGISTER_FAIL",m="USER_REGISTER_RESET",x="USER_DETAILS_REQUEST",g="USER_DETAILS_SUCCESS",v="USER_DETAILS_FAIL",y="USER_UPDATE_PROFILE_REQUEST",E="USER_UPDATE_PROFILE_SUCCESS",S="USER_UPDATE_PROFILE_FAIL",L="USER_LIST_REQUEST",I="USER_LIST_SUCCESS",C="USER_LIST_FAIL",_="USER_LIST_RESET",w="USER_DELETE_REQUEST",U="USER_DELETE_SUCCESS",T="USER_LIST_FAIL",R="USER_UPDATE_REQUEST",k="USER_UPDATE_SUCCESS",D="USER_UPDATE_FAIL",A="USER_UPDATE_RESET",N="TODO_ADD_REQUEST",P="TODO_ADD_SUCCESS",G="TODO_ADD_FAIL",F="TODO_LIST_REQUEST",B="TODO_LIST_SUCCESS",z="TODO_LIST_FAIL",Q="TODO_DELETE_REQUEST",J="TODO_DELETE_SUCCESS",M="TODO_DELETE_FAIL",H=Object(o.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loading:!0};case j:return{loading:!1,userInfo:t.payload};case p:return{loading:!1,error:t.payload};case b:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case O:return{loading:!1,success:!0,userInfo:t.payload};case f:return{loading:!1,error:t.payload};case m:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case g:return{loading:!1,user:t.payload};case v:return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case E:return{loading:!1,success:!0,userInfo:t.payload};case S:return{loading:!1,error:t.payload};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case I:return{loading:!1,users:t.payload};case C:return{loading:!1,error:t.payload};case _:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case U:return{loading:!1,success:!0};case T:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case k:return{loading:!1,success:!0};case D:return{loading:!1,error:t.payload};case A:return{user:{}};default:return e}},todoAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{todoAddLoading:!0};case P:return{todoAddLoading:!1};case G:return{todoAddloading:!1,todoAddError:t.payload};default:return e}},todoDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{todoDeleteLoading:!0};case J:return{todoDeleteLoading:!1};case M:return{todoDeleteError:t.payload};default:return e}},todoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{todoListLoading:!0};case B:return{todoListLoading:!1,todoList:t.payload};case z:return{todoListLoading:!1,todoListError:t.payload};default:return e}}}),W={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},q=[i.a],K=Object(o.createStore)(H,W,Object(u.composeWithDevTools)(o.applyMiddleware.apply(void 0,q))),V=(n(78),n(79),n(80),n(42)),X=n(11),Y=n(111),Z=n(117),$=n(118),ee=n(115),te=n(25),ne=n(10),ae=n.n(ne),re=n(17),se=n(20),ce=n.n(se),oe=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:x}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.get("/api/users/".concat(e),c);case 6:o=t.sent,i=o.data,n({type:g,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:v,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},ie=n(1),ue=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.userLogin})).userInfo;return Object(ie.jsx)("header",{children:Object(ie.jsx)(Z.a,{variant:"dark",bg:"dark",className:"mb-5 p-2",expand:"lg",collapseOnSelect:!0,children:Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(te.LinkContainer,{to:"/",children:Object(ie.jsx)(Z.a.Brand,{children:"To Do"})}),Object(ie.jsx)(Z.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(ie.jsx)(Z.a.Collapse,{id:"basic-navbar-nav",children:Object(ie.jsxs)($.a,{className:"m-auto",children:[t?Object(ie.jsxs)(ee.a,{title:t.name,id:"username",children:[Object(ie.jsx)(te.LinkContainer,{to:"/user/profile",children:Object(ie.jsx)(ee.a.Item,{children:"Profile"})}),Object(ie.jsx)(ee.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:b}),e({type:_})}))},children:"Logout"})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(te.LinkContainer,{to:"/",children:Object(ie.jsxs)($.a.Link,{children:[Object(ie.jsx)("i",{className:"px-1 fas fa-home"})," Home"]})}),Object(ie.jsx)(te.LinkContainer,{to:"/register",children:Object(ie.jsxs)($.a.Link,{children:[Object(ie.jsx)("i",{className:"px-1 far fa-edit"}),"Registration"]})}),Object(ie.jsx)(te.LinkContainer,{to:"/login",children:Object(ie.jsxs)($.a.Link,{children:[Object(ie.jsx)("i",{className:"px-1 fas fa-fingerprint"}),"Login"]})})]}),t&&"admin"===t.role&&Object(ie.jsx)(ee.a,{title:t.role+"Panel",id:"adminmenu",children:Object(ie.jsx)(te.LinkContainer,{to:"/admin/user/list",children:Object(ie.jsx)(ee.a.Item,{children:"Users"})})}),t&&"client"===t.role&&Object(ie.jsx)(ee.a,{title:t.role+"Panel",id:"clientmenu",children:Object(ie.jsx)(te.LinkContainer,{to:"/todo",children:Object(ie.jsx)(ee.a.Item,{children:"My To Do's"})})})]})})]})})})},le=function(){return Object(ie.jsx)("div",{className:"container",children:Object(ie.jsx)("h1",{children:"Home Page"})})},de=n(9),je=n(116),pe=n(69),be=n(119),he=function(e){var t=e.variant,n=e.children;return Object(ie.jsx)(be.a,{variant:t,children:n})};he.defaultProps={variant:"info"};var Oe=he,fe=n(112),me=function(e){var t=e.variant,n=e.size;return Object(ie.jsx)(fe.a,{variant:t,animation:"border",role:"status",size:n,as:"span",style:{margin:"auto",display:"block"},children:Object(ie.jsx)("span",{className:"sr-only",children:"Loading..."})})},xe=function(e){var t=e.location,n=e.history,s=Object(a.b)(),c=Object(r.useState)(""),o=Object(de.a)(c,2),i=o[0],u=o[1],l=Object(r.useState)(""),d=Object(de.a)(l,2),p=d[0],b=d[1],x=Object(r.useState)(""),g=Object(de.a)(x,2),v=g[0],y=g[1],E=Object(r.useState)(""),S=Object(de.a)(E,2),L=S[0],I=S[1],C=Object(r.useState)(""),_=Object(de.a)(C,2),w=_[0],U=_[1],T=Object(r.useState)(null),R=Object(de.a)(T,2),k=R[0],D=R[1],A=Object(a.c)((function(e){return e.userRegister})),N=A.loading,P=(A.error,A.success),G=A.userInfo,F=t.search?t.search.split("=")[1]:"/user/profile";Object(r.useEffect)((function(){G&&(n.push(F),s({type:m}))}),[s,n,P,G]);return Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),L!==w?D("Passwords do not match"):s(function(e,t,n,a){return function(){var r=Object(re.a)(ae.a.mark((function r(s,c){var o,i,u;return ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:h}),o={headers:{"Content-Type":"application/json"}},r.next=5,ce.a.post("/api/users",{email:e,name:t,username:n,password:a},o);case 5:i=r.sent,u=i.data,s({type:O,payload:u}),s({type:j,payload:u}),localStorage.setItem("userInfo",JSON.stringify(u)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),s({type:f,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()}(i,p,v,L))},children:[k?Object(ie.jsx)(Oe,{variant:"outline-warning text-danger",children:k}):N&&Object(ie.jsx)(me,{}),Object(ie.jsxs)(je.a.Group,{controlId:"email",children:[Object(ie.jsx)(je.a.Label,{children:"Email"}),Object(ie.jsx)(je.a.Control,{type:"email",placeholder:"Enter a valid Email",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"name",children:[Object(ie.jsx)(je.a.Label,{children:"Name"}),Object(ie.jsx)(je.a.Control,{type:"name",placeholder:"Enter your name",value:p,onChange:function(e){return b(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"password",children:[Object(ie.jsx)(je.a.Label,{children:"Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Enter Password",value:L,onChange:function(e){return I(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"confirmPassword",children:[Object(ie.jsx)(je.a.Label,{children:"Confirm Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Confirm your password",value:w,onChange:function(e){return U(e.target.value)}})]}),Object(ie.jsx)(pe.a,{variant:"primary",type:"submit",block:!0,children:"Register"})]})},ge=n(120),ve=function(e){var t=e.history,n=Object(r.useState)(""),s=Object(de.a)(n,2),c=s[0],o=s[1],i=Object(r.useState)(""),u=Object(de.a)(i,2),l=u[0],d=u[1],j=Object(r.useState)(""),p=Object(de.a)(j,2),b=p[0],h=p[1],O=Object(r.useState)(""),f=Object(de.a)(O,2),m=f[0],x=f[1],g=Object(r.useState)(""),v=Object(de.a)(g,2),L=v[0],I=v[1],C=Object(r.useState)(null),_=Object(de.a)(C,2),w=_[0],U=_[1],T=Object(a.b)(),R=Object(a.c)((function(e){return e.userDetails})),k=R.loading,D=R.error,A=R.user,N=Object(a.c)((function(e){return e.userLogin})).userInfo,P=Object(a.c)((function(e){return e.userUpdateProfile})).success;Object(r.useEffect)((function(){N?A.name?(o(A.email),d(A.name),h(A.username)):T(oe("profile")):t.push("/login")}),[T,t,N,A]);return Object(ie.jsxs)(Y.a,{children:[k&&Object(ie.jsx)(me,{}),Object(ie.jsxs)(ge.a,{className:"w-50 border-0 border-0 shadow p-2 mb-5 my-5  rounded",children:[Object(ie.jsxs)(ge.a.Title,{className:"text-center mt-3 h1",children:[w&&Object(ie.jsx)(Oe,{variant:"danger",children:w}),D?Object(ie.jsx)(Oe,{variant:"danger",children:D}):P&&Object(ie.jsx)(Oe,{variant:"success",children:"Profile Updated"}),k&&Object(ie.jsx)(me,{})]}),Object(ie.jsx)(ge.a.Body,{children:Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),m!==L?U("Passwords do not match"):(T(function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:y}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.put("/api/users/profile",e,c);case 6:o=t.sent,i=o.data,n({type:E,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:S,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:A._id,email:c,name:l,username:b,password:m})),setTimeout((function(){window.location.reload()}),3e3))},children:[Object(ie.jsxs)(je.a.Group,{controlId:"email",children:[Object(ie.jsx)(je.a.Label,{children:"Email"}),Object(ie.jsx)(je.a.Control,{type:"email",placeholder:"Enter a valid Email",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"name",children:[Object(ie.jsx)(je.a.Label,{children:"Name"}),Object(ie.jsx)(je.a.Control,{type:"name",placeholder:"Enter your name",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"password",children:[Object(ie.jsx)(je.a.Label,{children:"Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Enter Password",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"confirmPassword",children:[Object(ie.jsx)(je.a.Label,{children:"Confirm Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Confirm your password",value:L,onChange:function(e){return I(e.target.value)}})]}),Object(ie.jsx)(pe.a,{variant:"primary",block:!0,type:"submit",children:"Update"})]})})]})]})},ye=n(113),Ee=n(70),Se=n(114),Le=function(e){var t=e.history,n=Object(a.b)(),s=Object(a.c)((function(e){return e.userList})),c=s.loading,o=s.error,i=s.users,u=Object(a.c)((function(e){return e.userLogin})).userInfo,l=Object(a.c)((function(e){return e.userDelete})).success;Object(r.useEffect)((function(){u&&"admin"===u.role?n(function(){var e=Object(re.a)(ae.a.mark((function e(t,n){var a,r,s,c,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),a=n(),r=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,ce.a.get("/api/users",s);case 6:c=e.sent,o=c.data,t({type:I,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:C,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()):t.push("/user/login")}),[u,n,t,l]);var d=function(e){window.confirm("Are  you sure you want to  delete this user?")&&n(function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:w}),r=a(),s=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.delete("/api/users/".concat(e),c);case 6:n({type:U}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:T,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()}(e))};return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)(ye.a,{children:[Object(ie.jsx)(Ee.a,{sm:6,md:6,lg:6,children:Object(ie.jsx)("h1",{children:"User Records"})}),Object(ie.jsx)(Ee.a,{className:"text-right ",sm:6,md:6,lg:6,children:Object(ie.jsxs)(pe.a,{className:"my-3",variant:"warning",onClick:function(){t.push("/user/register")},children:[Object(ie.jsx)("i",{className:"fas fa-plus  px-1"}),"Create New User"]})})]}),c?Object(ie.jsx)(me,{}):o?Object(ie.jsx)(Oe,{variant:"danger",children:o}):Object(ie.jsxs)(Se.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",children:[Object(ie.jsx)("thead",{className:"bg-dark text-warning",children:Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("th",{children:"ID"}),Object(ie.jsx)("th",{children:"Email"}),Object(ie.jsx)("th",{children:"Name"}),Object(ie.jsx)("th",{children:"Username"}),Object(ie.jsx)("th",{children:"Role"}),Object(ie.jsx)("th",{children:"Edit"})]})}),Object(ie.jsx)("tbody",{children:i.map((function(e){return Object(ie.jsxs)("tr",{children:[Object(ie.jsx)("td",{children:e._id}),Object(ie.jsx)("td",{children:Object(ie.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(ie.jsx)("td",{children:e.name}),Object(ie.jsx)("td",{children:e.username}),Object(ie.jsx)("td",{children:"admin"===e.role?Object(ie.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(ie.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(ie.jsxs)("td",{children:[Object(ie.jsx)(te.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(ie.jsx)(pe.a,{variant:"light",className:"btn-sm  mx-1",children:Object(ie.jsx)("i",{className:"fas fa-edit"})})}),Object(ie.jsx)(pe.a,{variant:"outline-danger",className:"btn-sm",onClick:function(){return d(e._id)},children:Object(ie.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},Ie=function(e){var t=e.location,n=e.history,s=Object(r.useState)(""),c=Object(de.a)(s,2),o=c[0],i=c[1],u=Object(r.useState)(""),l=Object(de.a)(u,2),b=l[0],h=l[1],O=Object(a.b)(),f=Object(a.c)((function(e){return e.userLogin})),m=f.loading,x=f.error,g=f.userInfo,v=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){x&&(i(""),h("")),g&&n.push(v)}),[n,g,x,v]);return Object(ie.jsx)(Y.a,{children:Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),O(function(e,t){return function(){var n=Object(re.a)(ae.a.mark((function n(a){var r,s,c;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:d}),r={headers:{"Content-Type":"application/json"}},n.next=5,ce.a.post("/api/users/login",{username:e,password:t,config:r});case 5:s=n.sent,c=s.data,a({type:j,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),a({type:p,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(o,b))},className:"my-1 ",children:[Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"password",children:[Object(ie.jsx)(je.a.Label,{children:"Password"}),Object(ie.jsx)(je.a.Control,{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(ie.jsx)(pe.a,{variant:"primary",type:"submit",block:!0,children:m?Object(ie.jsx)(me,{}):Object(ie.jsx)("span",{children:"Login"})})]})})},Ce=function(e){var t=e.match,n=e.history,s=t.params.id,c=Object(r.useState)(""),o=Object(de.a)(c,2),i=o[0],u=o[1],l=Object(r.useState)(""),d=Object(de.a)(l,2),j=d[0],p=d[1],b=Object(r.useState)(""),h=Object(de.a)(b,2),O=h[0],f=h[1],m=Object(r.useState)(" "),x=Object(de.a)(m,2),v=x[0],y=x[1],E=Object(a.b)(),S=Object(a.c)((function(e){return e.userDetails})).user,L=Object(a.c)((function(e){return e.userLogin})).userInfo,I=Object(a.c)((function(e){return e.userUpdate})).success;Object(r.useEffect)((function(){L&&"admin"!==!L.role||n.push("/login"),I?(E({type:A}),n.push("/admin/user/list")):S.name&&S._id===s?(u(S.email),p(S.name),f(S.username),y(S.role)):E(oe(s))}),[L,E,n,s,S,I]);return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(je.a,{onSubmit:function(e){e.preventDefault(),E(function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:R}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,ce.a.put("/api/users/".concat(e._id),e,c);case 6:o=t.sent,i=o.data,n({type:k}),n({type:g,payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:D,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({_id:s,name:j,email:i,role:v}))},children:[Object(ie.jsxs)(je.a.Group,{controlId:"email",children:[Object(ie.jsx)(je.a.Label,{children:"Email"}),Object(ie.jsx)(je.a.Control,{type:"email",placeholder:"Enter a valid Email",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"name",children:[Object(ie.jsx)(je.a.Label,{children:"Name"}),Object(ie.jsx)(je.a.Control,{type:"name",placeholder:"Enter your name",value:j,onChange:function(e){return p(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"username",children:[Object(ie.jsx)(je.a.Label,{children:"Username"}),Object(ie.jsx)(je.a.Control,{type:"text",placeholder:"Enter username",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(ie.jsxs)(je.a.Group,{controlId:"role",children:[Object(ie.jsx)(je.a.Label,{children:"Role"}),Object(ie.jsxs)(je.a.Control,{as:"select",value:v,onChange:function(e){return y(e.target.value)},children:[Object(ie.jsx)("option",{children:"admin"}),Object(ie.jsx)("option",{children:"client"})]})]}),Object(ie.jsx)(pe.a,{variant:"primary",type:"submit",block:!0,children:"Update"})]})})},_e=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,a){var r,s,c,o,i,u;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.todoDescription,s=e.todoUserId,n({type:N}),c=a(),o=c.userLogin.userInfo,i={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(o.token)}},t.next=7,ce.a.post("/api/todos/",{todoDescription:r,todoUserId:s},i);case 7:u=t.sent,u.data&&n({type:P}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},we=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.userLogin})).userInfo,n=Object(r.useState)(""),s=Object(de.a)(n,2),c=s[0],o=s[1],i=Object(r.useState)(t._id),u=Object(de.a)(i,2),l=u[0],d=(u[1],Object(a.c)((function(e){return e.todoList})).todoList),j=Object(a.c)((function(e){return e.todoAdd})).todoAddLoading,p=(Object(a.c)((function(e){return e.todoList})).todoListLoading,Object(a.c)((function(e){return e.todoDelete})).todoDeleteLoading),b=Object(r.useState)(!1),h=Object(de.a)(b,2),O=h[0],f=h[1],m=function(){var t=Object(re.a)(ae.a.mark((function t(n){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!l||!c){t.next=5;break}return t.next=4,e(_e({todoDescription:c,todoUserId:l}));case 4:o("");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(t){var n;console.log("Delete :",t),e((n=t,function(){var e=Object(re.a)(ae.a.mark((function e(t,a){var r,s,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Q}),r=a(),s=r.userLogin.userInfo,c={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,ce.a.delete("/api/todos/".concat(n,"&").concat(s._id),c);case 6:e.sent.data&&t({type:J}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:M,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()))};return Object(r.useEffect)((function(){e(function(){var e=Object(re.a)(ae.a.mark((function e(t,n){var a,r,s,c,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F}),a=n(),r=a.userLogin.userInfo,s={headers:{"Content-Type":"Application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,ce.a.get("/api/todos/".concat(r._id),s);case 6:c=e.sent,(o=c.data)&&(console.log(o),t({type:B,payload:o})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:z,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())}),[e,j,p]),Object(ie.jsxs)("div",{className:"container",children:[Object(ie.jsx)("button",{className:"btn text-success",onClick:function(){f(!O)},children:"+ Add Item"}),p&&Object(ie.jsx)(me,{variant:"danger"}),O&&Object(ie.jsxs)("form",{onSubmit:m,className:"row",children:[Object(ie.jsx)("input",{type:"text",value:c,placeholder:"write your activity here",className:"col form-control",onChange:function(e){return o(e.target.value)}}),Object(ie.jsx)("button",{type:"submit",className:"col-auto btn btn-sm btn-success",children:j?Object(ie.jsx)(me,{}):"Add Todo"})]}),Object(ie.jsxs)("div",{className:"mt-4 ",children:[Object(ie.jsx)("h4",{children:"My List"}),d?d.map((function(e,t){return Object(ie.jsxs)("div",{className:"row p-2 border",children:[Object(ie.jsxs)("p",{className:"col",children:[e.todoDescription," "]}),Object(ie.jsx)("div",{className:"col-auto",children:Object(ie.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return x(e._id)},children:"Delete"})})]},e._id)})):Object(ie.jsx)("center",{children:"No List to show"})]})]})},Ue=function(){return Object(ie.jsx)(V.BrowserRouter,{children:Object(ie.jsxs)("main",{children:[Object(ie.jsx)(ue,{}),Object(ie.jsx)(X.d,{path:"/",component:le,exact:!0}),Object(ie.jsxs)(Y.a,{children:[Object(ie.jsx)(X.d,{path:"/register",component:xe}),Object(ie.jsx)(X.d,{path:"/login",component:Ie}),Object(ie.jsx)(X.d,{path:"/user/profile",component:ve}),Object(ie.jsx)(X.d,{path:"/admin/user/:id/edit",component:Ce}),Object(ie.jsx)(X.d,{path:"/admin/user/list",component:Le}),Object(ie.jsx)(X.d,{path:"/todo",component:we})]})]})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(ie.jsx)(a.a,{store:K,children:Object(ie.jsx)(Ue,{})}),document.getElementById("root")),Te()},79:function(e,t,n){},80:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.bb810304.chunk.js.map